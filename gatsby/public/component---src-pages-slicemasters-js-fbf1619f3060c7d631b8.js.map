{"version":3,"sources":["webpack:///./src/components/pagination.js","webpack:///./src/pages/slicemasters.js"],"names":["PaginationStyles","styled","div","Pagination","pageSize","totalCount","currentPage","base","skip","totalPages","Math","ceil","prevPage","nextPage","hasNextPage","hasPrevPage","disabled","to","Array","from","length","map","_","index","key","className","SlicemastersGridStyles","SlicemasterStyles","SliceMastersPage","data","pageContext","slicemasters","nodes","console","log","SEO","title","parseInt","process","person","id","slug","current","name","fluid","image","asset","description"],"mappings":"wKAIMA,EAAmBC,IAAOC,IAAV,+EAAGD,CAAH,4SAqDPE,EA5BI,SAAC,GAAuD,IAArDC,EAAoD,EAApDA,SAAUC,EAA0C,EAA1CA,WAAYC,EAA8B,EAA9BA,YAAmBC,GAAW,EAAjBC,KAAiB,EAAXD,MACvDE,EAAaC,KAAKC,KAAKN,EAAaD,GACpCQ,EAAWN,EAAc,EACzBO,EAAWP,EAAc,EACzBQ,EAAcD,GAAYJ,EAC1BM,EAAcF,EAAW,EAE/B,OACE,kBAACb,EAAD,KACE,kBAAC,IAAD,CAAMgB,UAAWD,EAAaE,GAAOV,EAAL,IAAaK,GAA7C,UAGCM,MAAMC,KAAK,CAAEC,OAAQX,IAAcY,KAAI,SAACC,EAAGC,GAAJ,OACtC,kBAAC,IAAD,CACEC,IAAKD,EACLE,UAA2B,IAAhBnB,GAA+B,IAAViB,EAAc,UAAY,GAC1DN,GAAOV,EAAL,KAAagB,EAAQ,EAAIA,EAAQ,EAAI,KAEtCA,EAAQ,MAGb,kBAAC,IAAD,CAAMP,UAAWF,EAAaG,GAAOV,EAAL,IAAaM,GAA7C,Y,YC3CAa,EAAyBzB,IAAOC,IAAV,2FAAGD,CAAH,2FAMtB0B,EAAoB1B,IAAOC,IAAV,sFAAGD,CAAH,qUA8DR2B,UAhCU,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,KAAMC,EAAkB,EAAlBA,YAE1BC,EAAeF,EAAKE,aAAaC,MAGvC,OAFAC,QAAQC,IAAIH,GAGV,oCACE,kBAACI,EAAA,EAAD,CAAKC,MAAK,wBAAyBN,EAAYxB,aAAe,KAC9D,kBAAC,EAAD,CACEF,SAAUiC,SAASC,KACnBjC,WAAYwB,EAAKE,aAAa1B,WAC9BC,YAAawB,EAAYxB,aAAe,EACxCE,KAAMsB,EAAYtB,KAClBD,KAAK,kBAEP,kBAACmB,EAAD,KACGK,EAAaV,KAAI,SAACkB,GAAD,OAChB,kBAACZ,EAAD,CAAmBH,IAAKe,EAAOC,IAC7B,kBAAC,IAAD,CAAMvB,GAAE,iBAAmBsB,EAAOE,KAAKC,SACrC,4BACE,0BAAMjB,UAAU,QAAQc,EAAOI,QAGnC,kBAAC,IAAD,CAAKC,MAAOL,EAAOM,MAAMC,MAAMF,QAC/B,uBAAGnB,UAAU,eAAec,EAAOQ","file":"component---src-pages-slicemasters-js-fbf1619f3060c7d631b8.js","sourcesContent":["import { Link } from 'gatsby';\nimport React from 'react';\nimport styled from 'styled-components';\n\nconst PaginationStyles = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid var(--grey);\n  margin: 2rem 0;\n  border-radius: 5px;\n  text-align: center;\n\n  & > * {\n    padding: 1rem;\n    flex: 1;\n    margin: 0;\n    border: 1px solid var(--grey);\n    &[aria-current],\n    &.current {\n      color: var(--red);\n    }\n    &[disabled] {\n      pointer-events: none;\n      color: var(--grey);\n    }\n  }\n`;\n\nconst Pagination = ({ pageSize, totalCount, currentPage, skip, base }) => {\n  const totalPages = Math.ceil(totalCount / pageSize);\n  const prevPage = currentPage - 1;\n  const nextPage = currentPage + 1;\n  const hasNextPage = nextPage <= totalPages;\n  const hasPrevPage = nextPage > 2;\n\n  return (\n    <PaginationStyles>\n      <Link disabled={!hasPrevPage} to={`${base}/${prevPage}`}>\n        &#8592; Prev\n      </Link>\n      {Array.from({ length: totalPages }).map((_, index) => (\n        <Link\n          key={index}\n          className={currentPage === 1 && index === 0 ? 'current' : ''}\n          to={`${base}/${index > 0 ? index + 1 : ''}`}\n        >\n          {index + 1}\n        </Link>\n      ))}\n      <Link disabled={!hasNextPage} to={`${base}/${nextPage}`}>\n        Next &#8594;\n      </Link>\n    </PaginationStyles>\n  );\n};\n\nexport default Pagination;\n","import { graphql, Link } from 'gatsby';\nimport React from 'react';\nimport Img from 'gatsby-image';\nimport styled from 'styled-components';\nimport Pagination from '../components/pagination';\nimport SEO from '../components/SEO';\n\nconst SlicemastersGridStyles = styled.div`\n  display: grid;\n  grid-gap: 2rem;\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n`;\n\nconst SlicemasterStyles = styled.div`\n  a {\n    text-decoration: none;\n  }\n\n  .gatsby-image-wrapper {\n    height: 400px;\n  }\n\n  h2 {\n    transform: rotate(-2deg);\n    text-align: center;\n    font-size: 4rem;\n    margin-bottom: -2rem;\n    position: relative;\n    z-index: 2;\n  }\n\n  .description {\n    background: var(--yellow);\n    padding: 1rem;\n    margin: 2rem;\n    margin-top: -6rem;\n    z-index: 2;\n    position: relative;\n    transform: rotate(1deg);\n    text-align: center;\n  }\n`;\n\nconst SliceMastersPage = ({ data, pageContext }) => {\n  // pageContext is all the data that was passed in from gatsby node\n  const slicemasters = data.slicemasters.nodes;\n  console.log(slicemasters);\n\n  return (\n    <>\n      <SEO title={`Slicemasters - Page ${pageContext.currentPage || 1}`} />\n      <Pagination\n        pageSize={parseInt(process.env.GATSBY_PAGE_SIZE)}\n        totalCount={data.slicemasters.totalCount}\n        currentPage={pageContext.currentPage || 1}\n        skip={pageContext.skip}\n        base=\"/slicemasters\"\n      />\n      <SlicemastersGridStyles>\n        {slicemasters.map((person) => (\n          <SlicemasterStyles key={person.id}>\n            <Link to={`/slicemasters/${person.slug.current}`}>\n              <h2>\n                <span className=\"mark\">{person.name}</span>\n              </h2>\n            </Link>\n            <Img fluid={person.image.asset.fluid} />\n            <p className=\"description\">{person.description}</p>\n          </SlicemasterStyles>\n        ))}\n      </SlicemastersGridStyles>\n    </>\n  );\n};\n\nexport default SliceMastersPage;\n\nexport const query = graphql`\n  query($skip: Int = 0, $pageSize: Int = 2) {\n    slicemasters: allSanityPerson(limit: $pageSize, skip: $skip) {\n      totalCount\n      nodes {\n        name\n        id\n        description\n        image {\n          asset {\n            fluid(maxWidth: 400) {\n              ...GatsbySanityImageFluid\n            }\n          }\n        }\n        slug {\n          current\n        }\n      }\n    }\n  }\n`;\n"],"sourceRoot":""}