{"version":3,"sources":["webpack:///./node_modules/core-js/internals/use-symbol-as-uid.js","webpack:///./node_modules/core-js/internals/is-array.js","webpack:///./node_modules/core-js/internals/function-bind-context.js","webpack:///./node_modules/core-js/modules/es.array.flat.js","webpack:///./node_modules/core-js/internals/native-symbol.js","webpack:///./node_modules/core-js/internals/array-species-create.js","webpack:///./src/components/PizzaList.js","webpack:///./src/components/ToppingFilter.js","webpack:///./src/pages/pizzas.js","webpack:///./node_modules/core-js/internals/flatten-into-array.js","webpack:///./node_modules/core-js/internals/well-known-symbol.js"],"names":["NATIVE_SYMBOL","module","exports","Symbol","sham","iterator","classof","Array","isArray","arg","aFunction","fn","that","length","undefined","call","a","b","c","apply","arguments","$","flattenIntoArray","toObject","toLength","toInteger","arraySpeciesCreate","target","proto","flat","depthArg","O","this","sourceLen","A","fails","Object","getOwnPropertySymbols","String","isObject","SPECIES","wellKnownSymbol","originalArray","C","constructor","prototype","PizzaGridStyles","styled","div","PizzaStyles","Pizza","pizza","to","slug","current","className","name","toppings","map","topping","join","fluid","image","asset","alt","PizzaList","pizzas","key","id","ToppingsStyles","ToppingFilter","activeTopping","useStaticQuery","toppingsWithCount","counts","reduce","acc","existingTopping","count","values","sort","countPizzasInToppings","nodes","PizzasPage","data","pageContext","SEO","title","bind","original","source","start","depth","mapper","thisArg","element","targetIndex","sourceIndex","mapFn","TypeError","global","shared","has","uid","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter"],"mappings":"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","file":"component---src-pages-pizzas-js-24b759d27c106eeae4d0.js","sourcesContent":["var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  /* global Symbol -- safe */\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar flattenIntoArray = require('../internals/flatten-into-array');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\n// `Array.prototype.flat` method\n// https://tc39.es/ecma262/#sec-array.prototype.flat\n$({ target: 'Array', proto: true }, {\n  flat: function flat(/* depthArg = 1 */) {\n    var depthArg = arguments.length ? arguments[0] : undefined;\n    var O = toObject(this);\n    var sourceLen = toLength(O.length);\n    var A = arraySpeciesCreate(O, 0);\n    A.length = flattenIntoArray(A, O, O, sourceLen, 0, depthArg === undefined ? 1 : toInteger(depthArg));\n    return A;\n  }\n});\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  /* global Symbol -- required for testing */\n  return !String(Symbol());\n});\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","import React from 'react';\nimport { Link } from 'gatsby';\nimport Img from 'gatsby-image';\nimport styled from 'styled-components';\n\nconst PizzaGridStyles = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  gap: 4rem 2rem;\n  grid-auto-rows: auto auto 500px;\n`;\n\nconst PizzaStyles = styled.div`\n  display: grid;\n  @supports not (grid-template-rows: subgrid) {\n    --rows: auto auto 1fr;\n  }\n  //Take row sizing from grandparent\n  grid-template-rows: var(--rows, subgrid);\n  grid-row: span 3;\n  grid-gap: 1rem;\n\n  h2,\n  p {\n    margin: 0;\n  }\n`;\n\nconst Pizza = ({ pizza }) => (\n  <PizzaStyles>\n    <Link to={`/pizza/${pizza.slug.current}`}>\n      <h2>\n        <span className=\"mark\">{pizza.name}</span>\n      </h2>\n    </Link>\n    <p>{pizza.toppings.map((topping) => topping.name).join(',     ')}</p>\n    <Img fluid={pizza.image.asset.fluid} alt={pizza.name} />\n  </PizzaStyles>\n);\n\nconst PizzaList = ({ pizzas }) => (\n  <PizzaGridStyles>\n    {pizzas.map((pizza) => (\n      <Pizza pizza={pizza} key={pizza.id} />\n    ))}\n  </PizzaGridStyles>\n);\n\nexport default PizzaList;\n","import { graphql, Link, useStaticQuery } from 'gatsby';\nimport React from 'react';\nimport styled from 'styled-components';\n\nconst ToppingsStyles = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 1rem;\n  margin-bottom: 4rem;\n\n  a {\n    display: grid;\n    grid-template-columns: auto 1fr;\n    grid-gap: 0 1rem;\n    align-items: center;\n    padding: 5px;\n    background: var(--grey);\n    border-radius: 2px;\n\n    .count {\n      background: white;\n      padding: 2px 5px;\n    }\n\n    &[aria-current='page'] {\n      background: var(--yellow);\n    }\n  }\n`;\n\nconst countPizzasInToppings = (pizzas) => {\n  const counts = pizzas\n    .map((pizza) => pizza.toppings)\n    .flat()\n    .reduce((acc, topping) => {\n      // check if existing\n      const existingTopping = acc[topping.id];\n      if (existingTopping) {\n        // if is increment by one\n        existingTopping.count += 1;\n        // else new entry in acc, set it to 1\n      } else {\n        acc[topping.id] = {\n          id: topping.id,\n          name: topping.name,\n          count: 1,\n        };\n      }\n      return acc;\n    }, {});\n  // sort by count\n  const sortedToppings = Object.values(counts).sort(\n    (a, b) => b.count - a.count\n  );\n  return sortedToppings;\n};\n// Return pizzas with count\n\nconst ToppingFilter = ({ activeTopping }) => {\n  // get list of all toppings\n  // get list of all pizzas with their toppings\n  const { pizzas } = useStaticQuery(graphql`\n    query {\n      pizzas: allSanityPizza {\n        nodes {\n          toppings {\n            name\n            id\n          }\n        }\n      }\n    }\n  `);\n  // count how many pizzas are in each topping\n  const toppingsWithCount = countPizzasInToppings(pizzas.nodes);\n  // loop over list of toppings and display topping and pizzas in them\n\n  //   Link it up\n  return (\n    <ToppingsStyles>\n      <Link to=\"/pizzas\">\n        <span className=\"name\">All</span>\n        <span className=\"count\">{pizzas.nodes.length}</span>\n      </Link>\n      {toppingsWithCount.map((topping) => (\n        <Link to={`/topping/${topping.name}`} key={topping.id}>\n          <span className=\"name\">{topping.name}</span>\n          <span className=\"count\">{topping.count}</span>\n        </Link>\n      ))}\n    </ToppingsStyles>\n  );\n};\n\nexport default ToppingFilter;\n","import React from 'react';\nimport { graphql } from 'gatsby';\nimport PizzaList from '../components/PizzaList';\nimport ToppingFilter from '../components/ToppingFilter';\nimport SEO from '../components/SEO';\n\nconst PizzasPage = ({ data, pageContext }) => {\n  const pizzas = data.pizzas.nodes;\n  return (\n    <>\n      <SEO\n        title={\n          pageContext.topping\n            ? `Pizzas with ${pageContext.topping}`\n            : 'All Pizzas'\n        }\n      />\n      <ToppingFilter activeTopping={pageContext.topping} />\n      <PizzaList pizzas={pizzas} />\n    </>\n  );\n};\n\nexport default PizzasPage;\n\nexport const query = graphql`\n  query PizzaQuery($topping: [String]) {\n    pizzas: allSanityPizza(\n      filter: { toppings: { elemMatch: { name: { in: $topping } } } }\n    ) {\n      nodes {\n        name\n        id\n        slug {\n          current\n        }\n        toppings {\n          id\n          name\n        }\n        image {\n          asset {\n            fixed(width: 300, height: 400) {\n              ...GatsbySanityImageFixed\n            }\n            fluid(maxWidth: 400) {\n              ...GatsbySanityImageFluid\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n","'use strict';\nvar isArray = require('../internals/is-array');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\n\n// `FlattenIntoArray` abstract operation\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar flattenIntoArray = function (target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? bind(mapper, thisArg, 3) : false;\n  var element;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      if (depth > 0 && isArray(element)) {\n        targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;\n      } else {\n        if (targetIndex >= 0x1FFFFFFFFFFFFF) throw TypeError('Exceed the acceptable array length');\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n};\n\nmodule.exports = flattenIntoArray;\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n"],"sourceRoot":""}